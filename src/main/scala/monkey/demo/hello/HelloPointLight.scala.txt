package demo.hello

import com.jme3.scene.Geometry
import com.jme3.scene.shape.Box
import com.jme3.light.PointLight
import com.jme3.math.ColorRGBA
import jme.util.MonkeyApp
import jme.util.material.LightingMaterial
import jme.util.material.UnshadedMaterial

object HelloPointLight extends MonkeyApp():

  override def simpleInitApp() =
    init2()


  def init1() =
    val mat = UnshadedMaterial(assetManager)
    mat.setColor(C(0.2f, 0.8f, 0.2f))
    val geo = Geometry("Box", Box(1.0f, 0.6f, 0.2f))
    geo.translate(0, -2, -1)
    geo.setMaterial(mat)
    rootNode.attachChild(geo)

  def init2() =
    val mat = LightingMaterial(assetManager)
    mat.setAmbientColor(ColorRGBA.White)
    mat.setDiffuseColor(ColorRGBA.White)
    mat.setSpecularColor(ColorRGBA.White)
    mat.setShininess(45) // ???
    mat.setUseMaterialColors(true)
    val geo = Geometry("Box", Box(1.0f, 0.6f, 0.2f), mat)
    geo.translate(0, -2, -1)
    // geo.setMaterial(mat)
    val light = PointLight()
    light.setColor(C(1, 1, 1));
    light.setRadius(100f);
    light.setPosition(cam.getLocation);
    println(light.isEnabled)
    rootNode.attachChild(geo) // +=
    rootNode.addLight(light) // +=
